DOWNLOAD ON CLIENT

$ curl -L https://istio.io/downloadIstio | sh -

Move to the package dir

$ cd istio-1.11.3

Add the istioctl client to my path

$ export PATH=$PWD/bin:$PATH

INSTALL ISTIO

$ istioctl install --set profile=demo -y
✔ Istio core installed
✔ Istiod installed
✔ Egress gateways installed
✔ Ingress gateways installed
✔ Installation complete

Add a namespace label to instruct istio to automatically inject Envoy sidecar proxies when you deploy your application later

$ kubectl label namespace default istio-injection=enabled

-----

DEPLOY hello world app with envoy proxy

$ kubectl apply -f <(istioctl kube-inject -f helloworld.yaml)

Apply gateway to access to the hello-app

$ kubectl apply -f helloworld-gw.yaml

Get the full address of loadbalancer

$ kubectl get svc -n istio-system

Check whether it works properly

$ curl <ELB.aws.com>/hello
